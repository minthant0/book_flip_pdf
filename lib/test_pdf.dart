import 'package:flutter/material.dart';import 'package:flutter_cached_pdfview/flutter_cached_pdfview.dart';import 'package:get/get.dart';import 'package:get/get_core/src/get_main.dart';import 'package:page_flip/page_flip.dart';import 'app_controller.dart';class BookFlipReader extends StatefulWidget {  final String pdfUrl;  const BookFlipReader({Key? key, required this.pdfUrl}) : super(key: key);  @override  _BookFlipReaderState createState() => _BookFlipReaderState();}class _BookFlipReaderState extends State<BookFlipReader> {  AppController appController=Get.put(AppController());  final _pageFlipController = GlobalKey<PageFlipWidgetState>();  @override  void initState() {    super.initState();  }  /// Builds a single PDF page widget.  Widget _buildPDFPage(int pageIndex) {    return Container(      color: Colors.white,      child: PDF(        autoSpacing: false,        pageFling: false,        swipeHorizontal: true,        defaultPage: pageIndex,        fitPolicy: FitPolicy.BOTH,        onPageChanged: (currentPage, totalPages) {          setState(() {          });        },      ).cachedFromUrl(        whenDone: (String done){          print("Done");        },        "https://cdn.syncfusion.com/content/PDFViewer/flutter-succinctly.pdf",       // "http://www.pdf995.com/samples/pdf.pdf",        placeholder: (progress) => Center(child: Text('$progress% Loading...')),        errorWidget: (error) => Center(child: Text('Error: $error')),      ),    );  }  @override  Widget build(BuildContext context) {    return GetBuilder<AppController>(builder: (controller){      return Obx(()=>Column(        children: [          Flexible(child: controller.totalPage.value!=0?PageFlipWidget(            key: _pageFlipController,            children: List.generate(              controller.totalPage.value,                  (pageIndex) => _buildPDFPage(pageIndex),            ),          ):Center(            child: CircularProgressIndicator(),          )),        ],      ));    });  }}